[gd_scene load_steps=9 format=3 uid="uid://hf2prj3h1x5u"]

[ext_resource type="Script" uid="uid://cd7u204pifhmq" path="res://levels/burning_transistor.gd" id="1_visgt"]
[ext_resource type="Material" uid="uid://72qpaeos0n2n" path="res://materials/floor_dark1.tres" id="2_hdrvo"]
[ext_resource type="Environment" uid="uid://d2cy41mcxrya4" path="res://environments/panorama_test_black.tres" id="3_visgt"]
[ext_resource type="PackedScene" uid="uid://bsw1jkrbaf653" path="res://sound/bgm.tscn" id="4_6akp8"]

[sub_resource type="NavigationMesh" id="NavigationMesh_visgt"]
vertices = PackedVector3Array(410.564, 0.37849, 318.564, 411.064, 0.37849, 318.564, 412.564, 0.37849, 317.064, 507.314, 0.37849, 95.814, 507.314, 0.37849, 89.314, 491.564, 0.37849, -158.936, 298.064, 0.37849, 418.564, 298.564, 0.37849, 418.564, 300.314, 0.37849, 416.564, 300.814, 0.37849, 416.564, 302.564, 0.37849, 414.564, 303.064, 0.37849, 414.564, 304.814, 0.37849, 412.564, 305.314, 0.37849, 412.564, 307.064, 0.37849, 410.564, 307.564, 0.37849, 410.564, 309.314, 0.37849, 408.564, 309.814, 0.37849, 408.564, 311.564, 0.37849, 406.564, 312.064, 0.37849, 406.564, 313.814, 0.37849, 404.564, 314.314, 0.37849, 404.564, 316.064, 0.37849, 402.564, 316.564, 0.37849, 402.564, 318.314, 0.37849, 400.564, 318.814, 0.37849, 400.564, 320.564, 0.37849, 398.564, -356.436, 0.37849, -368.186, -358.436, 0.37849, -366.436, -358.436, 0.37849, -365.936, -360.436, 0.37849, -364.186, -360.436, 0.37849, -363.686, -362.436, 0.37849, -361.936, -362.436, 0.37849, -361.436, -315.936, 0.37849, -413.186, -318.436, 0.37849, -411.436, -318.436, 0.37849, -410.936, 266.564, 0.37849, 445.314, 269.814, 0.37849, 444.064, 271.314, 0.37849, 442.314, 293.814, 0.37849, 422.314, 296.314, 0.37849, 420.564, -364.436, 0.37849, -359.686, -366.186, 0.37849, -357.186, -507.436, -6.12151, -10.686, -500.186, -0.37151, -10.436, -500.186, -0.12151, -11.936, -507.436, 0.37849, -95.936, -507.436, 0.37849, -87.686, -11.936, -0.12151, -500.186, -10.436, -0.37151, -500.186, -10.686, -6.12151, -507.436, -95.686, 0.37849, -507.436, -87.4602, 0.37849, -507.436, -485.936, 0.37849, 114.814, -486.686, -0.12151, 114.814, -500.936, -11.6215, 118.064, -475.936, 0.37849, 206.314, -486.42, -4.37151, 169.306, -483.194, -3.12151, 180.693, -482.388, -2.37151, 183.54, -478.355, -0.37151, 197.774, -483.934, -2.12151, 165.541, -479.443, -0.37151, 188.065, 118.064, -11.6215, -500.936, 114.814, -0.12151, -486.686, 114.814, 0.37849, -485.936, 206.314, 0.37849, -475.936, 197.774, -0.37151, -478.355, 183.54, -2.37151, -482.388, 180.693, -3.12151, -483.194, 169.306, -4.37151, -486.42, 162.571, -1.87151, -483.936, 185.087, -0.12151, -479.457, 271.814, 0.37849, 442.314, -356.436, 0.37849, -368.686, -499.186, 0.37849, -11.936, -499.686, 0.37849, 1.064, -497.186, 0.37849, 49.814, -490.186, 0.37849, 97.064, -485.936, 0.37849, 113.564, 49.814, 0.37849, -497.186, 1.064, 0.37849, -499.686, -11.936, 0.37849, -499.186, 113.564, 0.37849, -485.936, 97.064, 0.37849, -490.186, 317.064, -14.8715, -412.686, 412.564, 0.37849, -317.186, 409.483, 0.37849, -320.267, 394.08, -2.12151, -335.67, 209.887, 0.37849, -473.896, 264.583, 0.37849, -431.427, 398.048, 0.37849, -327.937, 380.063, 0.37849, -342.952, 399.583, 0.37849, -327.926, 396.585, -0.12151, -330.95, -317.436, 0.37849, 412.314, 96.064, 0.37849, 507.314, -95.936, 0.37849, 507.314, 321.064, 0.37849, 398.564, -444.186, 0.37849, -269.936, -1.686, -1.37151, -500.686, 6.564, -1.87151, -500.436, 6.564, -7.37151, -507.436, 5.189, -2.12151, -500.478, 25.064, -2.62151, -499.436, 25.064, -9.12151, -507.436, 10.8332, -2.37151, -500.205, 12.2563, -2.12151, -500.128, 23.6409, -2.87151, -499.513, 17.0693, -5.12151, -503.453, 44.064, -3.37151, -498.436, 44.064, -10.6215, -507.436, 33.8332, -3.37151, -498.974, 35.2948, -3.12151, -498.898, 30.5746, -3.87151, -500.451, 53.314, -3.37151, -497.436, 53.564, -11.3715, -507.436, 53.4211, -7.12151, -501.722, 60.064, -3.37151, -496.686, 60.314, -11.8715, -507.436, 66.814, -3.12151, -495.686, 67.064, -12.6215, -507.436, 61.414, -3.62151, -496.486, 73.564, -2.87151, -494.686, 73.814, -13.1215, -507.436, 80.314, -2.62151, -493.686, 80.564, -13.6215, -507.436, 87.064, -2.62151, -492.686, 87.314, -14.1215, -507.436, 95.814, -14.8715, -507.436, 98.814, -2.12151, -490.936, 102.767, -13.8715, -505.405, 99.9859, -14.6215, -506.217, 99.5542, -9.62151, -500.452, -507.436, -7.37151, 6.564, -500.436, -1.87151, 6.564, -500.686, -1.37151, -1.686, -500.478, -2.12151, 5.189, -507.436, -9.12151, 25.064, -499.436, -2.62151, 25.064, -499.513, -2.87151, 23.6409, -500.128, -2.12151, 12.2563, -500.205, -2.37151, 10.8332, -503.451, -5.12151, 17.0747, -507.436, -10.6215, 44.064, -498.436, -3.37151, 44.064, -498.898, -3.12151, 35.2948, -498.974, -3.37151, 33.8332, -500.446, -3.87151, 30.5478, -507.436, -11.3715, 53.564, -497.436, -3.37151, 53.314, -501.722, -7.12151, 53.4211, -507.436, -11.8715, 60.314, -496.686, -3.37151, 60.064, -507.436, -12.6215, 67.064, -495.686, -3.12151, 66.814, -496.486, -3.62151, 61.414, -507.436, -13.1215, 73.814, -494.686, -2.87151, 73.564, -507.436, -13.6215, 80.564, -493.686, -2.87151, 80.314, -507.436, -14.1215, 87.314, -492.686, -2.62151, 87.064, -507.436, -14.8715, 95.814, -490.936, -2.12151, 98.814, -506.217, -14.6215, 99.9859, -505.405, -13.8715, 102.767, -500.416, -9.62151, 99.5659)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(4, 0, 5), PackedInt32Array(8, 7, 6), PackedInt32Array(10, 9, 8), PackedInt32Array(12, 11, 10), PackedInt32Array(14, 13, 12), PackedInt32Array(16, 15, 14), PackedInt32Array(18, 17, 16), PackedInt32Array(20, 19, 18), PackedInt32Array(22, 21, 20), PackedInt32Array(24, 23, 22), PackedInt32Array(26, 25, 24), PackedInt32Array(29, 28, 27), PackedInt32Array(31, 30, 29), PackedInt32Array(33, 32, 31), PackedInt32Array(36, 35, 34), PackedInt32Array(37, 39, 38), PackedInt32Array(6, 41, 40), PackedInt32Array(33, 43, 42), PackedInt32Array(45, 44, 46), PackedInt32Array(46, 44, 48), PackedInt32Array(46, 48, 47), PackedInt32Array(50, 49, 51), PackedInt32Array(51, 49, 53), PackedInt32Array(53, 49, 52), PackedInt32Array(8, 6, 40), PackedInt32Array(43, 33, 31), PackedInt32Array(10, 8, 40), PackedInt32Array(43, 31, 29), PackedInt32Array(12, 10, 40), PackedInt32Array(43, 29, 27), PackedInt32Array(61, 63, 57), PackedInt32Array(57, 63, 54), PackedInt32Array(54, 62, 55), PackedInt32Array(55, 62, 56), PackedInt32Array(56, 62, 58), PackedInt32Array(58, 62, 59), PackedInt32Array(59, 63, 60), PackedInt32Array(60, 63, 61), PackedInt32Array(63, 62, 54), PackedInt32Array(62, 63, 59), PackedInt32Array(66, 73, 67), PackedInt32Array(67, 73, 68), PackedInt32Array(68, 73, 69), PackedInt32Array(69, 73, 70), PackedInt32Array(70, 72, 71), PackedInt32Array(71, 72, 64), PackedInt32Array(64, 72, 65), PackedInt32Array(65, 72, 66), PackedInt32Array(66, 72, 73), PackedInt32Array(73, 72, 70), PackedInt32Array(14, 12, 40), PackedInt32Array(16, 14, 40), PackedInt32Array(18, 16, 40), PackedInt32Array(20, 18, 40), PackedInt32Array(22, 20, 40), PackedInt32Array(40, 74, 39), PackedInt32Array(24, 22, 40), PackedInt32Array(40, 39, 37), PackedInt32Array(26, 24, 40), PackedInt32Array(27, 75, 36), PackedInt32Array(36, 34, 27), PackedInt32Array(27, 34, 43), PackedInt32Array(77, 76, 78), PackedInt32Array(78, 76, 79), PackedInt32Array(79, 76, 80), PackedInt32Array(82, 81, 83), PackedInt32Array(83, 81, 85), PackedInt32Array(83, 85, 84), PackedInt32Array(5, 92, 87), PackedInt32Array(87, 92, 88), PackedInt32Array(88, 94, 89), PackedInt32Array(89, 93, 86), PackedInt32Array(86, 91, 90), PackedInt32Array(90, 84, 67), PackedInt32Array(84, 5, 52), PackedInt32Array(5, 93, 92), PackedInt32Array(92, 94, 88), PackedInt32Array(94, 95, 89), PackedInt32Array(93, 91, 86), PackedInt32Array(89, 95, 93), PackedInt32Array(91, 84, 90), PackedInt32Array(84, 93, 5), PackedInt32Array(93, 95, 92), PackedInt32Array(92, 95, 94), PackedInt32Array(93, 5, 91), PackedInt32Array(91, 5, 84), PackedInt32Array(76, 47, 80), PackedInt32Array(80, 47, 57), PackedInt32Array(57, 47, 96), PackedInt32Array(40, 37, 26), PackedInt32Array(26, 37, 0), PackedInt32Array(0, 37, 97), PackedInt32Array(52, 83, 84), PackedInt32Array(97, 98, 96), PackedInt32Array(52, 49, 83), PackedInt32Array(0, 99, 26), PackedInt32Array(76, 46, 47), PackedInt32Array(43, 34, 100), PackedInt32Array(100, 34, 47), PackedInt32Array(47, 34, 52), PackedInt32Array(97, 96, 0), PackedInt32Array(0, 96, 5), PackedInt32Array(5, 96, 47), PackedInt32Array(5, 47, 52), PackedInt32Array(57, 54, 80), PackedInt32Array(84, 66, 67), PackedInt32Array(102, 104, 103), PackedInt32Array(103, 104, 101), PackedInt32Array(50, 51, 101), PackedInt32Array(101, 51, 103), PackedInt32Array(106, 110, 103), PackedInt32Array(103, 107, 102), PackedInt32Array(107, 103, 108), PackedInt32Array(108, 110, 109), PackedInt32Array(109, 106, 105), PackedInt32Array(110, 108, 103), PackedInt32Array(106, 109, 110), PackedInt32Array(112, 115, 106), PackedInt32Array(106, 115, 105), PackedInt32Array(105, 115, 113), PackedInt32Array(113, 115, 114), PackedInt32Array(114, 112, 111), PackedInt32Array(112, 114, 115), PackedInt32Array(116, 111, 118), PackedInt32Array(118, 111, 117), PackedInt32Array(117, 111, 112), PackedInt32Array(116, 118, 119), PackedInt32Array(119, 118, 117), PackedInt32Array(119, 117, 120), PackedInt32Array(119, 120, 123), PackedInt32Array(123, 120, 121), PackedInt32Array(121, 120, 122), PackedInt32Array(122, 125, 121), PackedInt32Array(121, 125, 124), PackedInt32Array(125, 127, 124), PackedInt32Array(124, 127, 126), PackedInt32Array(127, 129, 126), PackedInt32Array(126, 129, 128), PackedInt32Array(129, 130, 128), PackedInt32Array(128, 130, 131), PackedInt32Array(133, 134, 130), PackedInt32Array(130, 134, 131), PackedInt32Array(131, 134, 65), PackedInt32Array(65, 134, 64), PackedInt32Array(64, 134, 132), PackedInt32Array(132, 134, 133), PackedInt32Array(136, 135, 138), PackedInt32Array(138, 135, 137), PackedInt32Array(45, 137, 44), PackedInt32Array(44, 137, 135), PackedInt32Array(136, 143, 135), PackedInt32Array(135, 144, 139), PackedInt32Array(139, 141, 140), PackedInt32Array(141, 144, 142), PackedInt32Array(142, 135, 143), PackedInt32Array(144, 141, 139), PackedInt32Array(135, 142, 144), PackedInt32Array(140, 149, 139), PackedInt32Array(139, 149, 145), PackedInt32Array(145, 147, 146), PackedInt32Array(147, 149, 148), PackedInt32Array(148, 149, 140), PackedInt32Array(149, 147, 145), PackedInt32Array(151, 152, 146), PackedInt32Array(146, 152, 150), PackedInt32Array(146, 150, 145), PackedInt32Array(151, 154, 152), PackedInt32Array(152, 154, 150), PackedInt32Array(150, 154, 153), PackedInt32Array(154, 157, 153), PackedInt32Array(153, 157, 156), PackedInt32Array(153, 156, 155), PackedInt32Array(155, 156, 158), PackedInt32Array(158, 156, 159), PackedInt32Array(158, 159, 160), PackedInt32Array(160, 159, 161), PackedInt32Array(160, 161, 162), PackedInt32Array(162, 161, 163), PackedInt32Array(162, 163, 164), PackedInt32Array(164, 163, 165), PackedInt32Array(165, 168, 164), PackedInt32Array(164, 168, 166), PackedInt32Array(166, 168, 167), PackedInt32Array(167, 168, 56), PackedInt32Array(56, 168, 55), PackedInt32Array(55, 168, 165)]

[sub_resource type="CylinderMesh" id="CylinderMesh_2qasv"]
top_radius = 500.0
bottom_radius = 500.0

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_visgt"]
points = PackedVector3Array(95.1635, 6.93651, 507.936, -95.1635, -8.93651, -507.936, -158.705, -8.93651, -492.026, 158.705, -8.93651, 492.026, 492.026, 6.93651, -158.705, -507.936, 6.93651, -95.1635, -444.395, -8.93651, 269.779, 507.936, -8.93651, 95.1635, -95.1635, 6.93651, -507.936, 317.411, -8.93651, -412.674, -317.411, 6.93651, 412.674, 412.674, 6.93651, 317.411, -444.395, -8.93651, -269.779, 206.337, 6.93651, -476.116, -158.705, -8.93651, 492.026, -317.411, 6.93651, -412.674, 476.116, -8.93651, -206.337, -476.116, 6.93651, 206.337, -507.936, -8.93651, 95.1635, 317.411, -8.93651, 412.674, 412.674, 6.93651, -317.411, 507.936, 6.93651, 95.1635, 95.1635, -8.93651, -507.936, -95.1635, 6.93651, 507.936, 269.779, 6.93651, 444.395, 444.395, -8.93651, 269.779, -444.395, 6.93651, -269.779, -317.411, -8.93651, -412.674, -317.411, -8.93651, 412.674, -507.936, -8.93651, -95.1635, 507.936, -8.93651, -95.1635, -95.1635, -8.93651, 507.936)

[sub_resource type="BoxShape3D" id="BoxShape3D_05i0m"]
size = Vector3(5000, 100, 5000)

[node name="BurningTransistor" type="Node3D"]
script = ExtResource("1_visgt")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_visgt")

[node name="Floor" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/Floor"]
mesh = SubResource("CylinderMesh_2qasv")
surface_material_override/0 = ExtResource("2_hdrvo")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="NavigationRegion3D/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.935, 0)
visible = false
shape = SubResource("ConvexPolygonShape3D_visgt")

[node name="FloorLight" type="Timer" parent="."]

[node name="CameraTwist" type="Node3D" parent="."]

[node name="CameraPitch" type="Node3D" parent="CameraTwist"]

[node name="IntroCam" type="Camera3D" parent="CameraTwist/CameraPitch"]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 199.197, 675.758)
current = true
fov = 50.0

[node name="SetDressin" type="Node3D" parent="."]
transform = Transform3D(78.9063, 0, -61.4313, 0, 100, 0, 61.4313, 0, 78.9063, -142.92, 41.5013, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="SetDressin"]
environment = ExtResource("3_visgt")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SetDressin"]
transform = Transform3D(-0.990505, 0.119058, -0.0687377, 0, 0.499998, 0.866026, 0.137476, 0.857804, -0.495251, 1.18197, 0.796057, -0.920207)
light_color = Color(0.858824, 0.882353, 1, 1)
light_energy = 0.384
shadow_enabled = true

[node name="Trails" type="Node3D" parent="."]

[node name="Spawns" type="Node3D" parent="."]

[node name="Players" type="Node3D" parent="Spawns"]

[node name="Node3D" type="Node3D" parent="Spawns/Players"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 200)

[node name="Enemies" type="Node3D" parent="Spawns"]

[node name="Node3D" type="Node3D" parent="Spawns/Enemies"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, -200)

[node name="Allies" type="Node3D" parent="Spawns"]

[node name="PlayerTanks" type="Node3D" parent="Spawns"]

[node name="EnemyTanks" type="Node3D" parent="Spawns"]

[node name="AllyTanks" type="Node3D" parent="Spawns"]

[node name="SOS" parent="." instance=ExtResource("4_6akp8")]
volume_db = -22.0
pitch_scale = 0.68
autoplay = false

[node name="Boxes" type="Node3D" parent="."]

[node name="ExplodeBox" type="Area3D" parent="Boxes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -20.0609, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boxes/ExplodeBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -168.668, 0)
shape = SubResource("BoxShape3D_05i0m")

[node name="DespawnBox" type="Area3D" parent="Boxes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -566.392, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boxes/DespawnBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -100, 0)
shape = SubResource("BoxShape3D_05i0m")

[node name="SkyFlash" type="Timer" parent="."]
one_shot = true

[connection signal="body_entered" from="Boxes/ExplodeBox" to="." method="_on_kill_box_body_entered"]
[connection signal="body_entered" from="Boxes/DespawnBox" to="." method="_on_despawn_box_body_entered"]
[connection signal="timeout" from="SkyFlash" to="." method="_on_sky_flash_timeout"]
